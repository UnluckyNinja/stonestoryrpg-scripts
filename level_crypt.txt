var lc = import MyScripts/locheck
var rsc = import MyScripts/resources
var eq = import MyScripts/equips
var pot = import MyScripts/potions

?lc.isCrypt()
  pot.usehealthPotion()
  eq.equipWalk()
  ?loc.stars <= 5
    equipL triskelion
  rsc.pickups()
  rsc.harvests()

  ?foe.distance < 23 
    ?foe = boss | loc = boss
      equipBoss()
    :
      ?loc.stars <= 5
        eq.equipSpeed()
      :
        eq.equipGeneral()

  ?foe = boss
    ?foe.state = 4
      eq.equipFarm()

func equipBoss()
  equipR long sword dL
  equipL -long sword dL
  ?foe ! boss & foe.count >= 2
    equipL long sword
    equipL vigor long sword
    equipR vigor wand